{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,QAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,KAAMH,SAASC,cAAc,iBAC7BG,OAAQJ,SAASC,cAAc,oBA2B/B,SAASI,EAAcC,EAAUJ,GAC/B,MAAMK,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACLN,GACFI,EAAQ,C,SAACL,E,MAAUJ,IAErBU,EAAO,C,SAACN,E,MAAUJ,GAAO,GACxBA,EAAM,G,CAhCfJ,EAAKC,KAAKe,iBAAiB,UAE3B,SAAuBC,GACrBA,EAAEC,iBAEF,MAAQd,MAAAe,EAAKd,KAAEA,EAAIC,OAAEA,GAAWW,EAAEG,cAClC,IAAIC,EAAaC,OAAOtB,EAAKI,MAAMmB,OAC/BC,EAAcF,OAAOtB,EAAKM,OAAOiB,OACjCE,EAAYH,OAAOtB,EAAKK,KAAKkB,OAEjC,IAAK,IAAIG,EAAI,EAAGA,EAAIF,EAAaE,IAC/BnB,EAAcmB,EAAGL,GAChBM,MAAK,EAACnB,SAAEA,EAAQJ,MAAEA,MACjBwB,EAAA9B,GAAS+B,OAAOC,QAAQ,uBAAqBtB,QAAiBJ,OAC5D2B,QAAMC,IAAI,uBAAqBxB,QAAiBJ,MAAU,IAE7D6B,OAAM,EAACzB,SAAEA,EAAQJ,MAAEA,MAClBwB,EAAA9B,GAAS+B,OAAOK,QAAQ,sBAAoB1B,QAAiBJ,OAC3D2B,QAAMC,IAAI,sBAAoBxB,QAAeJ,MAAU,IAE/DiB,GAAcI,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form: document.querySelector(`form`),\n  delay: document.querySelector(`[name = delay]`),\n  step: document.querySelector(`[name = step]`),\n  amount: document.querySelector(`[name = amount]`),\n};\n\nrefs.form.addEventListener(`submit`, handlerSubmit);\n\nfunction handlerSubmit(e) {\n  e.preventDefault();\n\n  const { delay, step, amount } = e.currentTarget;\n  let firstDelay = Number(refs.delay.value);\n  let amountCount = Number(refs.amount.value);\n  let stepDelay = Number(refs.step.value);\n\n  for (let i = 1; i < amountCount; i++) {\n    createPromise(i, firstDelay)\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\nfirstDelay += stepDelay;\n  };\n  }\n\n  function createPromise(position, delay) {\n    const shouldResolve = Math.random() > 0.3;\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({position, delay});\n        }\n        reject({position, delay});\n      }, delay)\n    });\n  }"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","delay","step","amount","$47d4ff9957288465$var$createPromise","position","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","e","preventDefault","delay1","currentTarget","firstDelay","Number","value","amountCount","stepDelay","i","then","$parcel$interopDefault","Notify","success","console","log","catch","failure"],"version":3,"file":"03-promises.8f7d8d06.js.map"}